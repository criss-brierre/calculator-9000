{"ast":null,"code":"function stringMath(eq, callback) {\n  if (typeof eq !== 'string') return handleCallback(new TypeError('The [String] argument is expected.'), null);\n  const mulDiv = /([+-]?\\d*\\.?\\d+(?:e[+-]\\d+)?)\\s*([*/])\\s*([+-]?\\d*\\.?\\d+(?:e[+-]\\d+)?)/;\n  const plusMin = /([+-]?\\d*\\.?\\d+(?:e[+-]\\d+)?)\\s*([+-])\\s*([+-]?\\d*\\.?\\d+(?:e[+-]\\d+)?)/;\n  const parentheses = /(\\d)?\\s*\\(([^()]*)\\)\\s*/;\n  var current;\n\n  while (eq.search(/^\\s*([+-]?\\d*\\.?\\d+(?:e[+-]\\d+)?)\\s*$/) === -1) {\n    eq = fParentheses(eq);\n    if (eq === current) return handleCallback(new SyntaxError('The equation is invalid.'), null);\n    current = eq;\n  }\n\n  return handleCallback(null, +eq);\n\n  function fParentheses(eq) {\n    while (eq.search(parentheses) !== -1) {\n      eq = eq.replace(parentheses, function (a, b, c) {\n        c = fMulDiv(c);\n        c = fPlusMin(c);\n        return typeof b === 'string' ? b + '*' + c : c;\n      });\n    }\n\n    eq = fMulDiv(eq);\n    eq = fPlusMin(eq);\n    return eq;\n  }\n\n  function fMulDiv(eq) {\n    while (eq.search(mulDiv) !== -1) {\n      eq = eq.replace(mulDiv, function (a) {\n        const sides = mulDiv.exec(a);\n        const result = sides[2] === '*' ? sides[1] * sides[3] : sides[1] / sides[3];\n        return result >= 0 ? '+' + result : result;\n      });\n    }\n\n    return eq;\n  }\n\n  function fPlusMin(eq) {\n    eq = eq.replace(/([+-])([+-])(\\d|\\.)/g, function (a, b, c, d) {\n      return (b === c ? '+' : '-') + d;\n    });\n\n    while (eq.search(plusMin) !== -1) {\n      eq = eq.replace(plusMin, function (a) {\n        const sides = plusMin.exec(a);\n        return sides[2] === '+' ? +sides[1] + +sides[3] : sides[1] - sides[3];\n      });\n    }\n\n    return eq;\n  }\n\n  function handleCallback(errObject, result) {\n    if (typeof callback !== 'function') {\n      if (errObject !== null) throw errObject;\n    } else {\n      callback(errObject, result);\n    }\n\n    return result;\n  }\n}\n\nif (typeof module !== 'undefined' && typeof exports !== 'undefined' && module.exports) {\n  module.exports = stringMath;\n}","map":{"version":3,"names":["stringMath","eq","callback","handleCallback","TypeError","mulDiv","plusMin","parentheses","current","search","fParentheses","SyntaxError","replace","a","b","c","fMulDiv","fPlusMin","sides","exec","result","d","errObject","module","exports"],"sources":["C:/Users/criss/OneDrive/Bureau/react-app/node_modules/string-math/string-math.js"],"sourcesContent":["function stringMath(eq, callback) {\r\n  if (typeof eq !== 'string') return handleCallback(new TypeError('The [String] argument is expected.'), null);\r\n  const mulDiv = /([+-]?\\d*\\.?\\d+(?:e[+-]\\d+)?)\\s*([*/])\\s*([+-]?\\d*\\.?\\d+(?:e[+-]\\d+)?)/;\r\n  const plusMin = /([+-]?\\d*\\.?\\d+(?:e[+-]\\d+)?)\\s*([+-])\\s*([+-]?\\d*\\.?\\d+(?:e[+-]\\d+)?)/;\r\n  const parentheses = /(\\d)?\\s*\\(([^()]*)\\)\\s*/;\r\n  var current;\r\n  while (eq.search(/^\\s*([+-]?\\d*\\.?\\d+(?:e[+-]\\d+)?)\\s*$/) === -1) {\r\n    eq = fParentheses(eq);\r\n    if (eq === current) return handleCallback(new SyntaxError('The equation is invalid.'), null);\r\n    current = eq;\r\n  }\r\n  return handleCallback(null, +eq);\r\n\r\n  function fParentheses(eq) {\r\n    while (eq.search(parentheses) !== -1) {\r\n      eq = eq.replace(parentheses, function (a, b, c) {\r\n        c = fMulDiv(c);\r\n        c = fPlusMin(c);\r\n        return typeof b === 'string' ? b + '*' + c : c;\r\n      });\r\n    }\r\n    eq = fMulDiv(eq);\r\n    eq = fPlusMin(eq);\r\n    return eq;\r\n  }\r\n\r\n  function fMulDiv(eq) {\r\n    while (eq.search(mulDiv) !== -1) {\r\n      eq = eq.replace(mulDiv, function (a) {\r\n        const sides = mulDiv.exec(a);\r\n        const result = sides[2] === '*' ? sides[1] * sides[3] : sides[1] / sides[3];\r\n        return result >= 0 ? '+' + result : result;\r\n      });\r\n    }\r\n    return eq;\r\n  }\r\n\r\n  function fPlusMin(eq) {\r\n    eq = eq.replace(/([+-])([+-])(\\d|\\.)/g, function (a, b, c, d) { return (b === c ? '+' : '-') + d; });\r\n    while (eq.search(plusMin) !== -1) {\r\n      eq = eq.replace(plusMin, function (a) {\r\n        const sides = plusMin.exec(a);\r\n        return sides[2] === '+' ? +sides[1] + +sides[3] : sides[1] - sides[3];\r\n      });\r\n    }\r\n    return eq;\r\n  }\r\n\r\n  function handleCallback(errObject, result) {\r\n    if (typeof callback !== 'function') {\r\n      if (errObject !== null) throw errObject;\r\n    } else {\r\n      callback(errObject, result);\r\n    }\r\n    return result;\r\n\r\n  }\r\n\r\n}\r\n\r\nif (typeof module !== 'undefined' && typeof exports !== 'undefined' && module.exports) {\r\n  module.exports = stringMath;\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"script"}